@inherits SearchItem<System.DateTime>

<table cellpadding="0" cellspacing="0" style="float:left;margin-right:10px">
	<tr>
		<td><RadzenLabel Text="@(this.Title+'：')" Component="@this.TextBoxName" /></td>
		<td>
			<table cellpadding="0" cellspacing="0">
				<tr>
					<td>
						<RadzenDatePicker @bind-Value=@this.StartDate Name="@this.TextBoxName" DateFormat="yyyy-MM-dd" Style="width:140px" />
					</td>
					<td style="padding:0 5px">至</td>
					<td>
						<RadzenDatePicker @bind-Value=@this.EndDate Name="@this.TextBoxName" DateFormat="yyyy-MM-dd" Style="width:140px" />
					</td>
				</tr>
			</table>
		</td>
	</tr>
</table>

@code {
	[Microsoft.AspNetCore.Components.Parameter]
	public System.DateTime? StartDate { get; set; }

	// [Microsoft.AspNetCore.Components.Parameter]
	// public Microsoft.AspNetCore.Components.EventCallback<System.DateTime> StartDateChanged { get; set; }

	[Microsoft.AspNetCore.Components.Parameter]
	public System.DateTime? EndDate { get; set; }

	// [Microsoft.AspNetCore.Components.Parameter]
	// public Microsoft.AspNetCore.Components.EventCallback<System.DateTime> EndDateChanged { get; set; }

	public override void ResetValue()
	{
		this.StartDate = null;
		this.EndDate = null;
	}

	public override IEnumerable<ColdShine.Blazor.Models.Condition<System.DateTime>> SimpleSearcherConditions
	{
		get
		{
			if (this.StartDate != null)
				yield return new() { Property = this.Property, Operator = ColdShine.Blazor.Models.Operators.GreaterOrEqualOperator, Value = this.StartDate.Value.Date };
			if (this.EndDate != null)
				yield return new() { Property = this.Property, Operator = ColdShine.Blazor.Models.Operators.LessOperator, Value = this.EndDate.Value.Date.AddDays(1) };
		}
	}
}
